[gd_scene load_steps=15 format=3 uid="uid://nhn45how7fvx"]

[ext_resource type="Script" path="res://scripts/game.gd" id="1_ifo3a"]
[ext_resource type="PackedScene" uid="uid://d1vsufhiyg8h1" path="res://scenes/player.tscn" id="1_jiuor"]
[ext_resource type="Script" path="res://scripts/enemy_manager.gd" id="2_7tfmd"]
[ext_resource type="Texture2D" uid="uid://b18afjem4ykd4" path="res://assets/sprites/background/degrade_no_dithering_stars.png" id="2_tjbi6"]
[ext_resource type="Script" path="res://scripts/spawn_info.gd" id="3_bbwdo"]
[ext_resource type="PackedScene" uid="uid://buelrokqbgl4p" path="res://scenes/enemies/swordfish.tscn" id="4_gkvd0"]
[ext_resource type="PackedScene" uid="uid://bv8n3iqb7xukw" path="res://scenes/camera.tscn" id="4_ywabj"]
[ext_resource type="PackedScene" uid="uid://cbyfeyy773i1e" path="res://scenes/deep_level.tscn" id="8_03jb3"]
[ext_resource type="Script" path="res://scripts/deepness.gd" id="8_dvuap"]
[ext_resource type="Script" path="res://scripts/experience_manager.gd" id="10_xyax8"]

[sub_resource type="Resource" id="Resource_2vgdg"]
script = ExtResource("3_bbwdo")
deep_start = 1
deep_end = 2
enemy = ExtResource("4_gkvd0")
enemy_num = 15
enemy_spawn_delay = 0
enemy_spawn_side = Array[int]([1, 2])

[sub_resource type="RectangleShape2D" id="RectangleShape2D_c0rlt"]
size = Vector2(33395, 4058)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_vd7ia"]
size = Vector2(32274.2, 49164.7)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_f4lbg"]

[node name="Game" type="Node2D"]
script = ExtResource("1_ifo3a")

[node name="Sprite2D" type="Sprite2D" parent="."]
scale = Vector2(33.6424, 33.6424)
texture = ExtResource("2_tjbi6")

[node name="Enemies" type="Node2D" parent="."]
script = ExtResource("2_7tfmd")
spawns = Array[ExtResource("3_bbwdo")]([SubResource("Resource_2vgdg")])

[node name="Timer" type="Timer" parent="Enemies"]
autostart = true

[node name="Projectiles" type="Node" parent="."]

[node name="Camera" parent="." instance=ExtResource("4_ywabj")]

[node name="Player" parent="." instance=ExtResource("1_jiuor")]
position = Vector2(-1.90735e-06, -167563)
scale = Vector2(3, 3)

[node name="Deepness" type="Node" parent="."]
script = ExtResource("8_dvuap")

[node name="DeepLevel1" parent="Deepness" instance=ExtResource("8_03jb3")]
position = Vector2(88, -162050)
collision_layer = 0
level = 1

[node name="CollisionShape2D" type="CollisionShape2D" parent="Deepness/DeepLevel1"]
shape = SubResource("RectangleShape2D_c0rlt")

[node name="DeepLevel2" parent="Deepness" instance=ExtResource("8_03jb3")]
position = Vector2(240, -134124)
scale = Vector2(1.0083, 1.36537)
collision_layer = 0
level = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="Deepness/DeepLevel2"]
position = Vector2(-126.947, 5812.34)
shape = SubResource("RectangleShape2D_vd7ia")

[node name="DeepLevel3" parent="Deepness" instance=ExtResource("8_03jb3")]
position = Vector2(0, -53720)
collision_layer = 0
level = 3

[node name="CollisionShape2D" type="CollisionShape2D" parent="Deepness/DeepLevel3"]
scale = Vector2(1.09655, 1.10322)
shape = SubResource("RectangleShape2D_f4lbg")

[node name="DeepLevel4" parent="Deepness" instance=ExtResource("8_03jb3")]
position = Vector2(128, -26064)
collision_layer = 0
level = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="Deepness/DeepLevel4"]
scale = Vector2(1.09655, 1.10322)
shape = SubResource("RectangleShape2D_c0rlt")

[node name="DeepLevel5" parent="Deepness" instance=ExtResource("8_03jb3")]
position = Vector2(0, 149040)
collision_layer = 0
level = 5

[node name="CollisionShape2D" type="CollisionShape2D" parent="Deepness/DeepLevel5"]
position = Vector2(0, 16768)
scale = Vector2(1.09655, 1.10322)
shape = SubResource("RectangleShape2D_c0rlt")

[node name="ExperienceManager" type="Node" parent="."]
script = ExtResource("10_xyax8")

[connection signal="_enemy_death" from="Enemies" to="ExperienceManager" method="_on_enemy_death_create_exp"]
[connection signal="timeout" from="Enemies/Timer" to="Enemies" method="_on_timer_timeout"]
